/**
 * ═══════════════════════════════════════════════════════════════════════════
 * SHIP BEHAVIOR STATES - Visual Animation System
 * ═══════════════════════════════════════════════════════════════════════════
 * 
 * CSS animations and effects for reactive ship sprites.
 * Ships become live instruments that respond to real-time data.
 * 
 * ═══════════════════════════════════════════════════════════════════════════
 */

/* ═══════════════════════════════════════════════════════════════════════════
   BASE BEHAVIOR CLASS
   ═══════════════════════════════════════════════════════════════════════════ */

.ship-behavior {
  --drift-speed: 4s;
  --drift-amplitude: 2px;
  --engine-intensity: 1;
  --pnl-factor: 0;
  --volatility-factor: 0;
  --hull-factor: 1;
  --fuel-factor: 1;
  
  position: relative;
  transition: filter 0.3s ease, transform 0.3s ease;
  will-change: transform, filter;
}

/* ═══════════════════════════════════════════════════════════════════════════
   P&L THRUST BEHAVIORS
   ═══════════════════════════════════════════════════════════════════════════ */

/* Strong positive P&L: Full thrust forward, intense glow */
.ship-behavior.thrust-strong {
  animation: thrust-forward-strong 1.5s ease-in-out infinite;
  filter: 
    drop-shadow(0 0 12px rgba(51, 255, 153, 0.8))
    drop-shadow(0 4px 8px rgba(255, 200, 100, 0.6));
}

@keyframes thrust-forward-strong {
  0%, 100% { 
    transform: translateX(0) translateY(0); 
  }
  50% { 
    transform: translateX(4px) translateY(-2px); 
  }
}

/* Positive P&L: Gentle thrust, engine glow */
.ship-behavior.thrust-positive {
  animation: thrust-forward 2s ease-in-out infinite;
  filter: 
    drop-shadow(0 0 8px rgba(51, 255, 153, 0.5))
    drop-shadow(0 3px 6px rgba(255, 180, 80, 0.4));
}

@keyframes thrust-forward {
  0%, 100% { 
    transform: translateX(0); 
  }
  50% { 
    transform: translateX(2px); 
  }
}

/* Negative P&L: Backward drift, dimmer engines */
.ship-behavior.thrust-negative {
  animation: drift-backward 3s ease-in-out infinite;
  filter: 
    brightness(0.8)
    drop-shadow(0 0 4px rgba(255, 100, 100, 0.3));
}

@keyframes drift-backward {
  0%, 100% { 
    transform: translateX(0); 
  }
  50% { 
    transform: translateX(-3px); 
  }
}

/* Failing thrust: Flickering, heavy backward drift */
.ship-behavior.thrust-failing {
  animation: thrust-failing 0.8s ease-in-out infinite;
  filter: 
    brightness(0.6)
    sepia(0.2)
    drop-shadow(0 0 3px rgba(255, 50, 50, 0.5));
}

@keyframes thrust-failing {
  0%, 100% { 
    transform: translateX(-4px); 
    opacity: 0.9;
  }
  25% { 
    opacity: 0.7; 
  }
  50% { 
    transform: translateX(-2px); 
    opacity: 0.95;
  }
  75% { 
    opacity: 0.75; 
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   VOLATILITY BEHAVIORS
   ═══════════════════════════════════════════════════════════════════════════ */

/* Elevated volatility: Subtle vibration */
.ship-behavior.volatile-elevated {
  animation: jitter-subtle 0.3s ease-in-out infinite;
}

@keyframes jitter-subtle {
  0%, 100% { transform: translate(0, 0); }
  25% { transform: translate(0.5px, -0.5px); }
  50% { transform: translate(-0.5px, 0.5px); }
  75% { transform: translate(0.5px, 0.5px); }
}

/* High volatility: Noticeable shake */
.ship-behavior.volatile-high {
  animation: jitter-medium 0.2s ease-in-out infinite;
}

@keyframes jitter-medium {
  0%, 100% { transform: translate(0, 0); }
  25% { transform: translate(1px, -1px); }
  50% { transform: translate(-1px, 1px); }
  75% { transform: translate(1px, 1px); }
}

/* Extreme volatility: Violent shaking */
.ship-behavior.volatile-extreme {
  animation: jitter-extreme 0.1s ease-in-out infinite;
  filter: contrast(1.1);
}

@keyframes jitter-extreme {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  25% { transform: translate(2px, -2px) rotate(0.5deg); }
  50% { transform: translate(-2px, 2px) rotate(-0.5deg); }
  75% { transform: translate(2px, 2px) rotate(0.3deg); }
}

/* ═══════════════════════════════════════════════════════════════════════════
   HULL INTEGRITY STATES
   ═══════════════════════════════════════════════════════════════════════════ */

/* Optimal hull: Clean, no effects */
.ship-behavior.hull-optimal {
  /* Default state - clean */
}

/* Stressed hull: Warning amber tint */
.ship-behavior.hull-stressed {
  filter: sepia(0.1) hue-rotate(-10deg);
}

/* Critical hull: Red tint, visible damage */
.ship-behavior.hull-critical {
  filter: sepia(0.2) hue-rotate(-30deg) brightness(0.9);
  animation: damage-pulse 2s ease-in-out infinite;
}

@keyframes damage-pulse {
  0%, 100% { 
    filter: sepia(0.2) hue-rotate(-30deg) brightness(0.9); 
  }
  50% { 
    filter: sepia(0.3) hue-rotate(-40deg) brightness(0.85); 
  }
}

/* Failing hull: Flashing red, smoke effect */
.ship-behavior.hull-failing {
  animation: hull-failing 0.5s ease-in-out infinite;
}

@keyframes hull-failing {
  0%, 100% { 
    filter: sepia(0.4) hue-rotate(-40deg) brightness(0.7); 
    opacity: 1;
  }
  50% { 
    filter: sepia(0.5) hue-rotate(-50deg) brightness(0.6); 
    opacity: 0.85;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   FUEL STATES
   ═══════════════════════════════════════════════════════════════════════════ */

/* Full fuel: Clean exhaust */
.ship-behavior.fuel-full::after {
  content: '';
  position: absolute;
  bottom: -10px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 30px;
  background: linear-gradient(
    to bottom,
    rgba(100, 200, 255, 0.6),
    rgba(100, 200, 255, 0)
  );
  border-radius: 50%;
  opacity: calc(var(--engine-intensity) * 0.8);
  animation: exhaust-full 0.3s ease-in-out infinite;
  pointer-events: none;
}

@keyframes exhaust-full {
  0%, 100% { height: 30px; opacity: 0.7; }
  50% { height: 35px; opacity: 0.9; }
}

/* Adequate fuel: Normal exhaust */
.ship-behavior.fuel-adequate::after {
  content: '';
  position: absolute;
  bottom: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 16px;
  height: 24px;
  background: linear-gradient(
    to bottom,
    rgba(255, 180, 80, 0.5),
    rgba(255, 180, 80, 0)
  );
  border-radius: 50%;
  opacity: 0.6;
  animation: exhaust-normal 0.4s ease-in-out infinite;
  pointer-events: none;
}

@keyframes exhaust-normal {
  0%, 100% { height: 24px; }
  50% { height: 28px; }
}

/* Low fuel: Sputtering */
.ship-behavior.fuel-low::after {
  content: '';
  position: absolute;
  bottom: -6px;
  left: 50%;
  transform: translateX(-50%);
  width: 12px;
  height: 16px;
  background: linear-gradient(
    to bottom,
    rgba(255, 150, 50, 0.5),
    rgba(255, 100, 50, 0)
  );
  border-radius: 50%;
  animation: exhaust-sputter 0.2s ease-in-out infinite;
  pointer-events: none;
}

@keyframes exhaust-sputter {
  0%, 100% { opacity: 0.6; height: 16px; }
  25% { opacity: 0.2; height: 10px; }
  50% { opacity: 0.7; height: 18px; }
  75% { opacity: 0.3; height: 12px; }
}

/* Critical fuel: Dying engine */
.ship-behavior.fuel-critical::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 50%;
  transform: translateX(-50%);
  width: 8px;
  height: 8px;
  background: rgba(255, 100, 50, 0.4);
  border-radius: 50%;
  animation: exhaust-dying 0.15s ease-in-out infinite;
  pointer-events: none;
}

@keyframes exhaust-dying {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.1; }
}

/* ═══════════════════════════════════════════════════════════════════════════
   SHIP STATES (State Machine)
   ═══════════════════════════════════════════════════════════════════════════ */

.ship-behavior.state-standby {
  animation: standby-drift 6s ease-in-out infinite;
  filter: brightness(0.85);
}

@keyframes standby-drift {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(3px); }
}

.ship-behavior.state-deploying {
  animation: deploying 1s ease-out forwards;
}

@keyframes deploying {
  0% { 
    transform: translateY(10px) scale(0.95); 
    opacity: 0.7;
  }
  50% {
    transform: translateY(-5px) scale(1.02);
  }
  100% { 
    transform: translateY(0) scale(1); 
    opacity: 1;
  }
}

.ship-behavior.state-active {
  /* Active uses stat-based animations */
}

.ship-behavior.state-returning {
  animation: returning 2s ease-in-out infinite;
  filter: brightness(0.9);
}

@keyframes returning {
  0%, 100% { transform: translateX(0); }
  50% { transform: translateX(-5px); }
}

.ship-behavior.state-cooldown {
  animation: cooldown 3s ease-in-out infinite;
  filter: brightness(0.8) saturate(0.8);
}

@keyframes cooldown {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(0.98); }
}

.ship-behavior.state-alert {
  animation: alert-state 0.8s ease-in-out infinite;
}

@keyframes alert-state {
  0%, 100% { 
    filter: brightness(1) drop-shadow(0 0 8px rgba(255, 200, 50, 0.6)); 
  }
  50% { 
    filter: brightness(1.1) drop-shadow(0 0 15px rgba(255, 150, 50, 0.8)); 
  }
}

.ship-behavior.state-damaged {
  animation: damaged-state 0.3s ease-in-out infinite;
}

@keyframes damaged-state {
  0%, 100% { 
    transform: translate(0, 0);
    filter: sepia(0.3) hue-rotate(-30deg) brightness(0.8);
  }
  50% { 
    transform: translate(1px, -1px);
    filter: sepia(0.4) hue-rotate(-40deg) brightness(0.7);
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   MOOD SYSTEM
   ═══════════════════════════════════════════════════════════════════════════ */

.ship-behavior.mood-confident {
  filter: brightness(1.05) saturate(1.1);
}

.ship-behavior.mood-optimistic {
  filter: brightness(1.02);
}

.ship-behavior.mood-neutral {
  /* Default */
}

.ship-behavior.mood-cautious {
  filter: saturate(0.9);
}

.ship-behavior.mood-defensive {
  filter: brightness(0.95) saturate(0.85);
}

.ship-behavior.mood-strained {
  filter: sepia(0.1) brightness(0.9);
}

.ship-behavior.mood-critical {
  filter: sepia(0.3) hue-rotate(-20deg) brightness(0.85);
}

/* ═══════════════════════════════════════════════════════════════════════════
   CLASS-SPECIFIC IDLE ANIMATIONS
   ═══════════════════════════════════════════════════════════════════════════ */

/* Commanding (Flagship) - Slow, deliberate presence */
.ship-behavior.idle-commanding {
  animation: idle-commanding calc(var(--drift-speed) * 2) ease-in-out infinite;
}

@keyframes idle-commanding {
  0%, 100% { 
    transform: translateY(0) rotate(0deg); 
  }
  25% { 
    transform: translateY(calc(var(--drift-amplitude) * -0.5)) rotate(-0.3deg); 
  }
  50% { 
    transform: translateY(calc(var(--drift-amplitude) * 0.5)) rotate(0deg); 
  }
  75% { 
    transform: translateY(calc(var(--drift-amplitude) * -0.3)) rotate(0.3deg); 
  }
}

/* Stable (Carrier) - Minimal movement, platform feel */
.ship-behavior.idle-stable {
  animation: idle-stable calc(var(--drift-speed) * 2.5) ease-in-out infinite;
}

@keyframes idle-stable {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(calc(var(--drift-amplitude) * 0.3)); }
}

/* Nervous (Drone) - Rapid micro-movements */
.ship-behavior.idle-nervous {
  animation: idle-nervous calc(var(--drift-speed) * 0.3) ease-in-out infinite;
}

@keyframes idle-nervous {
  0%, 100% { 
    transform: translate(0, 0); 
  }
  20% { 
    transform: translate(calc(var(--drift-amplitude) * 0.8), calc(var(--drift-amplitude) * -0.5)); 
  }
  40% { 
    transform: translate(calc(var(--drift-amplitude) * -0.6), calc(var(--drift-amplitude) * 0.3)); 
  }
  60% { 
    transform: translate(calc(var(--drift-amplitude) * 0.4), calc(var(--drift-amplitude) * 0.6)); 
  }
  80% { 
    transform: translate(calc(var(--drift-amplitude) * -0.3), calc(var(--drift-amplitude) * -0.4)); 
  }
}

/* Heavy (Lander/Cargo) - Slow, weighted movement */
.ship-behavior.idle-heavy {
  animation: idle-heavy calc(var(--drift-speed) * 3) ease-in-out infinite;
}

@keyframes idle-heavy {
  0%, 100% { 
    transform: translateY(0); 
  }
  50% { 
    transform: translateY(calc(var(--drift-amplitude) * 0.5)); 
  }
}

/* Alert (Scout/Recon) - Quick, scanning movements */
.ship-behavior.idle-alert {
  animation: idle-alert var(--drift-speed) ease-in-out infinite;
}

@keyframes idle-alert {
  0%, 100% { 
    transform: translate(0, 0) rotate(0deg); 
  }
  25% { 
    transform: translate(calc(var(--drift-amplitude) * 0.5), 0) rotate(1deg); 
  }
  50% { 
    transform: translate(0, calc(var(--drift-amplitude) * -0.5)) rotate(0deg); 
  }
  75% { 
    transform: translate(calc(var(--drift-amplitude) * -0.5), 0) rotate(-1deg); 
  }
}

/* Hovering (eVTOL) - Vertical bob with rotor feel */
.ship-behavior.idle-hovering {
  animation: idle-hovering var(--drift-speed) ease-in-out infinite;
}

@keyframes idle-hovering {
  0%, 100% { 
    transform: translateY(0); 
  }
  50% { 
    transform: translateY(calc(var(--drift-amplitude) * -1)); 
  }
}

/* Aggressive (Fighter) - Ready stance, slight forward lean */
.ship-behavior.idle-aggressive {
  animation: idle-aggressive var(--drift-speed) ease-in-out infinite;
}

@keyframes idle-aggressive {
  0%, 100% { 
    transform: translate(0, 0) rotate(-1deg); 
  }
  50% { 
    transform: translate(calc(var(--drift-amplitude) * 0.5), calc(var(--drift-amplitude) * -0.3)) rotate(-0.5deg); 
  }
}

/* Volatile (Moonshot) - Unpredictable, energetic */
.ship-behavior.idle-volatile {
  animation: idle-volatile calc(var(--drift-speed) * 0.5) ease-in-out infinite;
}

@keyframes idle-volatile {
  0% { 
    transform: translate(0, 0) rotate(0deg); 
  }
  20% { 
    transform: translate(calc(var(--drift-amplitude) * 1.2), calc(var(--drift-amplitude) * -0.8)) rotate(2deg); 
  }
  40% { 
    transform: translate(calc(var(--drift-amplitude) * -1), calc(var(--drift-amplitude) * 0.5)) rotate(-1deg); 
  }
  60% { 
    transform: translate(calc(var(--drift-amplitude) * 0.8), calc(var(--drift-amplitude) * 1)) rotate(1.5deg); 
  }
  80% { 
    transform: translate(calc(var(--drift-amplitude) * -0.5), calc(var(--drift-amplitude) * -0.6)) rotate(-0.5deg); 
  }
  100% { 
    transform: translate(0, 0) rotate(0deg); 
  }
}

/* Standard (default) */
.ship-behavior.idle-standard {
  animation: idle-standard var(--drift-speed) ease-in-out infinite;
}

@keyframes idle-standard {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(var(--drift-amplitude)); }
}

/* ═══════════════════════════════════════════════════════════════════════════
   CLASS-SPECIFIC FEATURES
   ═══════════════════════════════════════════════════════════════════════════ */

/* Command radius (Flagship) */
.ship-behavior.has-command-radius::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 200%;
  height: 200%;
  border: 1px solid rgba(51, 255, 153, 0.15);
  border-radius: 50%;
  animation: command-radius 4s ease-in-out infinite;
  pointer-events: none;
}

@keyframes command-radius {
  0%, 100% { 
    opacity: 0.3;
    transform: translate(-50%, -50%) scale(0.9);
  }
  50% { 
    opacity: 0.5;
    transform: translate(-50%, -50%) scale(1);
  }
}

/* Radar sweep (Scout/Recon) */
.ship-behavior.has-radar-sweep::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 150%;
  height: 2px;
  background: linear-gradient(90deg, transparent, rgba(51, 255, 153, 0.4), transparent);
  transform-origin: left center;
  animation: radar-sweep 3s linear infinite;
  pointer-events: none;
}

@keyframes radar-sweep {
  0% { transform: translate(-50%, -50%) rotate(0deg); }
  100% { transform: translate(-50%, -50%) rotate(360deg); }
}

/* Rotor wash (eVTOL) */
.ship-behavior.has-rotor-wash::after {
  content: '';
  position: absolute;
  bottom: -15px;
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  height: 20px;
  background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
  animation: rotor-wash 0.1s ease-in-out infinite;
  pointer-events: none;
}

@keyframes rotor-wash {
  0%, 100% { opacity: 0.3; transform: translateX(-50%) scaleX(1); }
  50% { opacity: 0.5; transform: translateX(-50%) scaleX(1.1); }
}

/* Signal pulse (Relay) */
.ship-behavior.has-signal-pulse::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 10px;
  height: 10px;
  background: rgba(100, 200, 255, 0.8);
  border-radius: 50%;
  animation: signal-pulse 2s ease-out infinite;
  pointer-events: none;
}

@keyframes signal-pulse {
  0% { 
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.8;
    box-shadow: 0 0 0 0 rgba(100, 200, 255, 0.4);
  }
  100% { 
    transform: translate(-50%, -50%) scale(3);
    opacity: 0;
    box-shadow: 0 0 0 20px rgba(100, 200, 255, 0);
  }
}

/* Weapon glow (Fighter) */
.ship-behavior.has-weapon-glow {
  filter: drop-shadow(2px 0 4px rgba(255, 100, 100, 0.3))
          drop-shadow(-2px 0 4px rgba(255, 100, 100, 0.3));
}

/* Vertical bias (Lander) */
.ship-behavior.has-vertical-bias {
  /* Applied via idle-heavy animation */
}

/* ═══════════════════════════════════════════════════════════════════════════
   SPECIAL EFFECTS
   ═══════════════════════════════════════════════════════════════════════════ */

/* Damage flash */
.ship-behavior.damage-flash {
  animation: damage-flash 0.3s ease-out !important;
}

@keyframes damage-flash {
  0% { filter: brightness(2) saturate(0); }
  100% { filter: brightness(1) saturate(1); }
}

/* Boost effect */
.ship-behavior.boost-active {
  animation: boost-active 1s ease-out !important;
}

@keyframes boost-active {
  0% { 
    transform: translateX(0);
    filter: brightness(1.3) drop-shadow(0 0 20px rgba(51, 255, 153, 1));
  }
  50% {
    transform: translateX(10px);
  }
  100% { 
    transform: translateX(0);
    filter: brightness(1);
  }
}

/* Alert pulse */
.ship-behavior.alert-pulse {
  animation: alert-pulse-effect 2s ease-out !important;
}

@keyframes alert-pulse-effect {
  0%, 100% { 
    filter: drop-shadow(0 0 5px rgba(255, 200, 50, 0.5));
  }
  50% { 
    filter: drop-shadow(0 0 20px rgba(255, 150, 50, 1));
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   STRESS INDICATORS
   ═══════════════════════════════════════════════════════════════════════════ */

.stress-indicator {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.65rem;
}

.stress-bar {
  width: 60px;
  height: 6px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 3px;
  overflow: hidden;
}

.stress-fill {
  height: 100%;
  border-radius: 3px;
  transition: width 0.5s ease, background 0.3s ease;
}

.stress-fill.stress-level-optimal,
.stress-fill.stress-level-full {
  background: linear-gradient(90deg, #33ff99, #66ffbb);
}

.stress-fill.stress-level-stressed,
.stress-fill.stress-level-adequate {
  background: linear-gradient(90deg, #ffcc00, #ffaa00);
}

.stress-fill.stress-level-critical,
.stress-fill.stress-level-low {
  background: linear-gradient(90deg, #ff6666, #ff4444);
  animation: stress-pulse 1s ease-in-out infinite;
}

.stress-fill.stress-level-failing {
  background: linear-gradient(90deg, #ff3333, #cc0000);
  animation: stress-critical 0.5s ease-in-out infinite;
}

@keyframes stress-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes stress-critical {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.stress-label {
  font-family: 'IBM Plex Mono', monospace;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--text-muted);
}

.stress-indicator[data-level="optimal"] .stress-label,
.stress-indicator[data-level="full"] .stress-label {
  color: #33ff99;
}

.stress-indicator[data-level="stressed"] .stress-label,
.stress-indicator[data-level="adequate"] .stress-label {
  color: #ffcc00;
}

.stress-indicator[data-level="critical"] .stress-label,
.stress-indicator[data-level="low"] .stress-label {
  color: #ff6666;
}

.stress-indicator[data-level="failing"] .stress-label {
  color: #ff3333;
  animation: label-blink 0.5s ease-in-out infinite;
}

@keyframes label-blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE / REDUCED MOTION
   ═══════════════════════════════════════════════════════════════════════════ */

@media (prefers-reduced-motion: reduce) {
  .ship-behavior,
  .ship-behavior::before,
  .ship-behavior::after,
  .stress-fill,
  .stress-label {
    animation: none !important;
    transition: none !important;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   LIVERY ACCENT STYLES
   ═══════════════════════════════════════════════════════════════════════════ */

.fleet-ship-card.has-livery {
  --livery-accent: #33ff99;
}

.fleet-ship-card.has-livery::before {
  content: '';
  position: absolute;
  inset: 0;
  border: 1px solid var(--livery-accent);
  opacity: 0.3;
  pointer-events: none;
  border-radius: inherit;
}

.fleet-ship-card.has-livery:hover::before {
  opacity: 0.6;
  box-shadow: inset 0 0 10px var(--livery-accent);
}

.fleet-ship-card.has-livery.selected::before {
  opacity: 0.8;
  border-width: 2px;
}

/* Livery badge on fleet cards */
.livery-badge {
  position: absolute;
  top: 4px;
  right: 4px;
  width: 8px;
  height: 8px;
  background: var(--livery-accent, #33ff99);
  border-radius: 50%;
  box-shadow: 0 0 6px var(--livery-accent, #33ff99);
  opacity: 0.8;
}

/* Hangar ship with livery */
.hero-ship-container.has-livery {
  --livery-accent: #33ff99;
}

.hero-ship-container.has-livery .ship-sprite {
  filter: drop-shadow(0 0 15px var(--livery-accent));
}

/* Ship brief with livery */
.ship-brief-img.has-livery {
  filter: drop-shadow(0 0 12px var(--livery-accent, #33ff99));
}

/* ═══════════════════════════════════════════════════════════════════════════
   TELEMETRY-DRIVEN BEHAVIORS
   ═══════════════════════════════════════════════════════════════════════════ */

/* Signal flicker for low clarity tickers */
.ship-behavior {
  --signal-flicker: 0;
  --engine-stability: 1;
  --volatility-influence: 0.5;
}

/* Signal flicker effect (triggered by low signal clarity) */
.ship-behavior[style*="--signal-flicker"] .sensor-indicator,
.ship-behavior[style*="--signal-flicker"] .status-light {
  animation: signal-flicker calc(0.5s / var(--signal-flicker, 1)) ease-in-out infinite;
}

@keyframes signal-flicker {
  0%, 100% { opacity: 1; }
  25% { opacity: calc(1 - var(--signal-flicker, 0) * 0.3); }
  50% { opacity: calc(1 - var(--signal-flicker, 0) * 0.5); }
  75% { opacity: calc(1 - var(--signal-flicker, 0) * 0.2); }
}

/* Engine stability affects exhaust particle consistency */
.ship-behavior::after {
  opacity: calc(var(--engine-stability, 1) * 0.8 + 0.2);
}

/* Volatility influence on ambient movement */
.ship-behavior[style*="--volatility-influence"] {
  --base-jitter: calc(var(--volatility-influence, 0.5) * 2px);
}

/* ═══════════════════════════════════════════════════════════════════════════
   TELEMETRY STATUS DISPLAY
   ═══════════════════════════════════════════════════════════════════════════ */

.telemetry-status {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  padding: 0.5rem;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid var(--border);
  border-radius: 4px;
}

.telemetry-status .status-primary {
  font-family: 'IBM Plex Mono', monospace;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--phosphor);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.telemetry-status .status-regime {
  font-size: 0.65rem;
  color: var(--text-muted);
}

/* Status primary variations */
.telemetry-status .status-primary[data-status="Compromised"] {
  color: var(--red);
}

.telemetry-status .status-primary[data-status="Nebulous"] {
  color: var(--amber);
  animation: pulse-glow 2s ease-in-out infinite;
}

.telemetry-status .status-primary[data-status="Combat Ready"] {
  color: var(--phosphor);
  text-shadow: 0 0 6px var(--phosphor);
}

.telemetry-status .status-primary[data-status="Fortified"] {
  color: #4dabf7;
}

/* Regime variations */
.telemetry-status .status-regime[data-regime="Trending Formation"] {
  color: var(--phosphor-dim);
}

.telemetry-status .status-regime[data-regime="High Volatility Zone"] {
  color: var(--amber);
}

.telemetry-status .status-regime[data-regime="Consolidation Pattern"] {
  color: #74c0fc;
}
