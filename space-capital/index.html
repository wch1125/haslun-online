<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SPACE CAPITAL</title>
  <!-- SVG favicon - no emoji -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><rect width='64' height='64' fill='%230A0A0F'/><text x='8' y='44' font-size='32' font-family='monospace' font-weight='bold' fill='%23FF2975'>SC</text></svg>">
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  <style>
    /* ═══════════════════════════════════════════════════════════════════════════
       SPACE CAPITAL — LANDING / ENTRY SCREEN
       ═══════════════════════════════════════════════════════════════════════════
       A deliberate entry state, not a redirect.
       This creates the feeling of "entering" the command interface.
       ═══════════════════════════════════════════════════════════════════════════ */
    
    :root {
      --magenta: #FF2975;
      --magenta-dim: #CC1F5C;
      --cyan: #00FFFF;
      --bg-void: #0A0A0F;
      --bg-panel: #12121A;
      --text-primary: #F0F0F0;
      --text-dim: #888899;
      --font-main: 'VT323', monospace;
    }

    *, *::before, *::after { box-sizing: border-box; }
    
    html, body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      overflow: hidden;
    }

    body {
      background: var(--bg-void);
      color: var(--text-primary);
      font-family: var(--font-main);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    /* ─────────────────────────────────────────────────────────────────────────
       CRT EFFECTS — Consistent with main app
       ───────────────────────────────────────────────────────────────────────── */
    
    /* Scanlines */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 9999;
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.03) 2px,
        rgba(0, 0, 0, 0.03) 4px
      );
    }

    /* Vignette */
    body::after {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 9998;
      background: radial-gradient(
        ellipse at center,
        transparent 0%,
        transparent 50%,
        rgba(0, 0, 0, 0.5) 100%
      );
    }

    /* ─────────────────────────────────────────────────────────────────────────
       ENTRY CONTAINER
       ───────────────────────────────────────────────────────────────────────── */
    
    .entry-container {
      text-align: center;
      position: relative;
      z-index: 10;
      padding: 2rem;
    }

    /* Logo / Title */
    .entry-logo {
      font-size: clamp(2.5rem, 8vw, 5rem);
      color: var(--magenta);
      margin: 0 0 0.5rem 0;
      letter-spacing: 0.15em;
      text-shadow: 
        0 0 10px var(--magenta),
        0 0 30px rgba(255, 41, 117, 0.5);
      animation: logo-pulse 3s ease-in-out infinite;
    }

    @keyframes logo-pulse {
      0%, 100% { 
        text-shadow: 
          0 0 10px var(--magenta),
          0 0 30px rgba(255, 41, 117, 0.5);
      }
      50% { 
        text-shadow: 
          0 0 15px var(--magenta),
          0 0 40px rgba(255, 41, 117, 0.7),
          0 0 60px rgba(255, 41, 117, 0.3);
      }
    }

    .entry-subtitle {
      font-size: clamp(1rem, 3vw, 1.5rem);
      color: var(--text-dim);
      margin: 0 0 3rem 0;
      letter-spacing: 0.3em;
      text-transform: uppercase;
    }

    /* Status Line */
    .entry-status {
      font-size: 1rem;
      color: var(--cyan);
      margin-bottom: 2rem;
      letter-spacing: 0.1em;
      opacity: 0.8;
    }

    .entry-status::before {
      content: "▸ ";
    }

    /* ─────────────────────────────────────────────────────────────────────────
       ENTER BUTTON — Primary CTA
       ───────────────────────────────────────────────────────────────────────── */
    
    .enter-btn {
      font-family: var(--font-main);
      font-size: 1.5rem;
      color: var(--magenta);
      background: transparent;
      border: 2px solid var(--magenta);
      padding: 1rem 3rem;
      cursor: pointer;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      position: relative;
      overflow: hidden;
      transition: all 0.15s steps(4);
    }

    .enter-btn::before {
      content: "";
      position: absolute;
      inset: 0;
      background: var(--magenta);
      transform: translateX(-101%);
      transition: transform 0.15s steps(4);
      z-index: -1;
    }

    .enter-btn:hover {
      color: var(--bg-void);
      text-shadow: none;
      box-shadow: 
        0 0 20px var(--magenta),
        inset 0 0 10px rgba(255, 255, 255, 0.2);
    }

    .enter-btn:hover::before {
      transform: translateX(0);
    }

    .enter-btn:active {
      transform: scale(0.98);
    }

    /* ─────────────────────────────────────────────────────────────────────────
       TRANSITION STATE
       ───────────────────────────────────────────────────────────────────────── */
    
    .entry-container.transitioning .enter-btn {
      pointer-events: none;
      color: var(--bg-void);
    }

    .entry-container.transitioning .enter-btn::before {
      transform: translateX(0);
    }

    .entry-container.transitioning .entry-status {
      color: var(--magenta);
      animation: status-blink 0.2s steps(2) infinite;
    }

    @keyframes status-blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    /* Exit animation */
    body.exiting {
      animation: exit-fade 0.4s steps(8) forwards;
    }

    @keyframes exit-fade {
      0% { opacity: 1; }
      100% { 
        opacity: 0;
        filter: brightness(2);
      }
    }

    /* ─────────────────────────────────────────────────────────────────────────
       DECORATIVE ELEMENTS
       ───────────────────────────────────────────────────────────────────────── */
    
    /* Corner brackets */
    .corner {
      position: fixed;
      width: 40px;
      height: 40px;
      border-color: var(--magenta);
      border-style: solid;
      border-width: 0;
      opacity: 0.4;
    }

    .corner-tl { top: 20px; left: 20px; border-top-width: 2px; border-left-width: 2px; }
    .corner-tr { top: 20px; right: 20px; border-top-width: 2px; border-right-width: 2px; }
    .corner-bl { bottom: 20px; left: 20px; border-bottom-width: 2px; border-left-width: 2px; }
    .corner-br { bottom: 20px; right: 20px; border-bottom-width: 2px; border-right-width: 2px; }

    /* Version / Build info */
    .build-info {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.75rem;
      color: var(--text-dim);
      opacity: 0.5;
      letter-spacing: 0.1em;
    }

    /* ─────────────────────────────────────────────────────────────────────────
       MOBILE ADJUSTMENTS
       ───────────────────────────────────────────────────────────────────────── */
    
    @media (max-width: 480px) {
      .entry-container {
        padding: 1rem;
      }

      .enter-btn {
        padding: 0.8rem 2rem;
        font-size: 1.25rem;
      }

      .corner {
        width: 25px;
        height: 25px;
      }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* ─────────────────────────────────────────────────────────────────────────
       FLYING SHIPS BACKGROUND
       ───────────────────────────────────────────────────────────────────────── */
    
    .ships-bg {
      position: fixed;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
      z-index: 1;
    }

    .flying-ship {
      position: absolute;
      width: 32px;
      height: 32px;
      image-rendering: pixelated;
      opacity: 0.15;
      filter: brightness(0.7) saturate(0.5);
      animation: fly-up linear infinite;
    }

    @keyframes fly-up {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.15;
      }
      90% {
        opacity: 0.15;
      }
      100% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 0;
      }
    }

    /* Stagger the ships */
    .flying-ship:nth-child(1) { left: 5%; animation-duration: 12s; animation-delay: 0s; width: 24px; height: 24px; }
    .flying-ship:nth-child(2) { left: 15%; animation-duration: 18s; animation-delay: 2s; width: 28px; height: 28px; }
    .flying-ship:nth-child(3) { left: 25%; animation-duration: 15s; animation-delay: 5s; width: 20px; height: 20px; }
    .flying-ship:nth-child(4) { left: 35%; animation-duration: 20s; animation-delay: 1s; width: 32px; height: 32px; }
    .flying-ship:nth-child(5) { left: 45%; animation-duration: 14s; animation-delay: 8s; width: 22px; height: 22px; }
    .flying-ship:nth-child(6) { left: 55%; animation-duration: 16s; animation-delay: 3s; width: 26px; height: 26px; }
    .flying-ship:nth-child(7) { left: 65%; animation-duration: 19s; animation-delay: 6s; width: 30px; height: 30px; }
    .flying-ship:nth-child(8) { left: 75%; animation-duration: 13s; animation-delay: 4s; width: 24px; height: 24px; }
    .flying-ship:nth-child(9) { left: 85%; animation-duration: 17s; animation-delay: 7s; width: 28px; height: 28px; }
    .flying-ship:nth-child(10) { left: 95%; animation-duration: 21s; animation-delay: 9s; width: 20px; height: 20px; }

    /* Slight horizontal drift */
    .flying-ship:nth-child(odd) {
      animation-name: fly-up-drift-left;
    }

    @keyframes fly-up-drift-left {
      0% {
        transform: translateY(100vh) translateX(0) rotate(0deg);
        opacity: 0;
      }
      10% { opacity: 0.15; }
      90% { opacity: 0.15; }
      100% {
        transform: translateY(-100px) translateX(-30px) rotate(-5deg);
        opacity: 0;
      }
    }

    .flying-ship:nth-child(even) {
      animation-name: fly-up-drift-right;
    }

    @keyframes fly-up-drift-right {
      0% {
        transform: translateY(100vh) translateX(0) rotate(0deg);
        opacity: 0;
      }
      10% { opacity: 0.15; }
      90% { opacity: 0.15; }
      100% {
        transform: translateY(-100px) translateX(30px) rotate(5deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <!-- Flying ships background -->
  <div class="ships-bg" id="shipsBg">
    <!-- Ships will be injected by JS -->
  </div>

  <!-- Corner brackets -->
  <div class="corner corner-tl"></div>
  <div class="corner corner-tr"></div>
  <div class="corner corner-bl"></div>
  <div class="corner corner-br"></div>

  <!-- Main entry content -->
  <div class="entry-container" id="entryContainer">
    <h1 class="entry-logo">SPACE CAPITAL</h1>
    <p class="entry-subtitle">Fleet Command Interface</p>
    <p class="entry-status" id="entryStatus">SYSTEMS ONLINE</p>
    <button class="enter-btn" id="enterBtn">ENTER FLEET</button>
  </div>

  <!-- Build info -->
  <div class="build-info">BUILD 2026.01 // PARALLAX</div>

  <script>
    (function() {
      'use strict';

      const enterBtn = document.getElementById('enterBtn');
      const entryContainer = document.getElementById('entryContainer');
      const entryStatus = document.getElementById('entryStatus');

      // Preserve any query params/hash for the target
      const params = window.location.search + window.location.hash;
      const target = 'html/space-capital.html' + params;

      let isTransitioning = false;

      function enterFleet() {
        if (isTransitioning) return;
        isTransitioning = true;

        // Visual feedback
        entryContainer.classList.add('transitioning');
        entryStatus.textContent = 'INITIALIZING COMMAND LINK';

        // Short delay for the transition feel
        setTimeout(() => {
          entryStatus.textContent = 'ENTERING FLEET';
          document.body.classList.add('exiting');

          // Navigate after exit animation
          setTimeout(() => {
            window.location.href = target;
          }, 400);
        }, 300);
      }

      // Button click
      enterBtn.addEventListener('click', enterFleet);

      // Keyboard support
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          enterFleet();
        }
      });

      // Focus the button for keyboard users
      enterBtn.focus();

      // ─────────────────────────────────────────────────────────────────────────
      // FLYING SHIPS BACKGROUND (Performance-optimized)
      // - Respects prefers-reduced-motion
      // - Caps to 4 ships on mobile
      // - Uses static PNGs on mobile by default
      // ─────────────────────────────────────────────────────────────────────────
      
      const SHIP_GIFS = [
        'assets/ships/animated/gifs/RKLB_idle.gif',
        'assets/ships/animated/gifs/LUNR_idle.gif',
        'assets/ships/animated/gifs/ACHR_idle.gif',
        'assets/ships/animated/gifs/ASTS_idle.gif',
        'assets/ships/animated/gifs/JOBY_idle.gif',
        'assets/ships/animated/gifs/BKSY_idle.gif',
        'assets/ships/animated/gifs/GME_idle.gif',
        'assets/ships/animated/gifs/KTOS_idle.gif',
        'assets/ships/animated/gifs/GE_idle.gif',
        'assets/ships/animated/gifs/PL_idle.gif'
      ];
      
      const SHIP_PNGS = [
        'assets/ships/static/RKLB-flagship-ship.png',
        'assets/ships/static/LUNR-lander-ship.png',
        'assets/ships/static/ACHR-eVTOL-ship.png',
        'assets/ships/static/ASTS-Communications-Relay-Ship.png',
        'assets/ships/static/JOBY-eVTOL-light-class-ship.png',
        'assets/ships/static/BKSY-recon-ship.png',
        'assets/ships/static/GME-moonshot-ship.png',
        'assets/ships/static/KTOS-Fighter-Ship.png',
        'assets/ships/static/GE-Stealth-Bomber-ship.png',
        'assets/ships/static/PL-scout-ship.png'
      ];

      const shipsBg = document.getElementById('shipsBg');
      
      // Check for reduced motion preference
      const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      
      // Check if mobile (< 768px)
      const isMobile = window.innerWidth < 768;
      
      // Disable ships entirely if reduced motion is preferred
      if (prefersReducedMotion) {
        console.log('[Landing] Reduced motion preferred, skipping flying ships');
      } else {
        // Cap ships on mobile (4), full set on desktop (10)
        const maxShips = isMobile ? 4 : 10;
        // Use static PNGs on mobile, GIFs on desktop
        const usePNGs = isMobile;
        
        const shipsToUse = usePNGs ? SHIP_PNGS : SHIP_GIFS;
        
        // Create flying ship elements
        for (let i = 0; i < maxShips; i++) {
          const img = document.createElement('img');
          img.className = 'flying-ship';
          img.src = shipsToUse[i];
          img.alt = '';
          img.loading = 'lazy';
          img.onerror = () => {
            // Fallback to static drone image if not found
            img.src = 'assets/ships/static/Unclaimed-Drone-ship.png';
          };
          shipsBg.appendChild(img);
        }
        
        console.log(`[Landing] Loaded ${maxShips} ships (${usePNGs ? 'static' : 'animated'})`);
      }
    })();
  </script>
</body>
</html>
